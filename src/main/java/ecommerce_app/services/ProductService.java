package ecommerce_app.services;

import ecommerce_app.DTO.Product_Det;
import ecommerce_app.repository.ProductRepository;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Component;
import org.springframework.stereotype.Service;

import java.util.List;
import java.util.Optional;
import java.util.UUID;

@Service
public class ProductService {

    private final ProductRepository productRepository;

    public ProductService(ProductRepository productRepository) {
        this.productRepository = productRepository;
    }

    public Optional<List<Product_Det>> getProducts(String name){
        return productRepository.findByName(name);
    }

    public boolean addNewProduct(Product_Det product){
        if (product.getProductId() == null || product.getProductId().isBlank()) {
            product.setProductId(UUID.randomUUID().toString());
        }//        productDet.setTopic("mobile");
//        productDet.setName("Iphone 15");
//        productDet.setReview("4.3");
//        productDet.setImage("data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxIQEBUQEBAPEg8QEBIQFhcQEA8PEBARFRUXFhUVFRUYHSggGBolGxYWIjEhJTUrLi4uFx8zODMsNygvLisBCgoKDg0OGhAQGislHx8rLisrLS0tLS0tKystKy0tLS0tLS0tLS0tLS0tLS0rLS0tLS0tLSstLS0tKzcrLS0rK//AABEIAOEA4QMBIgACEQEDEQH/xAAcAAEAAgMBAQEAAAAAAAAAAAAABAUDBgcBAgj/xABJEAACAQICBAcMBwQKAwAAAAAAAQIDBAURBhIhMRNBUWFxc5EHIjI1gZOhsbPBwtIUFyVCVXLwUpKy4RUzQ1RWYoKUo9EjJFP/xAAZAQEAAwEBAAAAAAAAAAAAAAAAAQIDBAX/xAAkEQEBAAICAgIBBQEAAAAAAAAAAQIRAzEhQRIyBCIjUWGBE//aAAwDAQACEQMRAD8A7iAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYq1XLJJZyfYlysylbdVcuEfGnGC5k1H5mIivLi8hD+srNbctjUFnyfpnvCp7VKq+iT/wCz8saSYpVvrmpUrSzetLUjLNxpxUso04rdHZ2tM6P3GMbqp1rSpKUqVNU5Q1m3wetrJxXNsWS4tpaIrsKqL9qqumUjNGmn96f77KypWyzbllltS/a5suMmWtTeubPoA1zTbSyNgoU6cate8rvVpUoTlrTl7lyvi9dDbz0gqLXlcWFtntUGq1ecVySeern0bDFhcVcY/eVZ7XZ29GjTz2qPDOUpSXI8llnyGxY7c6lPVXhVHqrmXG/1yl8MJVMstNaheY5KTjG/s5JPLP6PPJ9G0j4lj2J20lC4xrC6M2tZRnSmpau7PLPdsfYbdhdDKK2Gm6a9yx4hdyu6d0qTqRgpRnTdRa0IqKcWpLJNJbOXPlNM+OSeIzx5Lb5qO9Mbz/EGE+amZ7HSPEriThb4zhlaaTlqwpSctVb3lntKP6jav9/peYn8xdaIdyl2F1C6qXSq8Cp6sYUnTzlOLjnKTb2JN7Ojy5zHz5i9y8eKtrapjlRbMRsk1vTt6ma9JlqVtIKXfwuMOuMtrhKnVpSkuSL3J9JZ3OdKamuJ7edcZbwkmk1uazL3jkRjyWsGg+mccQ16NWlK3vrd6tWjPfF8sXxrkfHvNsOVYt/6+P4dWgspXVOvbVGvvQppTjnz7WuhHVTDKaraXcAAQkAAAAAAAAAAAAAAAAKq6+/1sfVAtSquv7T86fYoMmIrlWlXc3p1LiVejVnQ4STnJRpqrBybzk0s4uLb6V0EzCMOtsIt51ZSkqcWp1Kk9tSrPdGKS6clFcr35tm7XE560dVRcc3rZ78stjTz5TSe63h1WvYp0VKXA141Zxim3KChOLaS35ayfQnyFlO0ex7r9tKqoVKFanTby4STpz1OecVuXRmdNsqil30WmnHNNbU0z8o2tLhNWEIudaTUIRppZy8i8KXOfpTQW2lStYUpvOVKjSpN55pyjCMXk+NZphNjXNFvHOKdFl7OZZY/LO4px5I59r/kVuinjnFOiy9nMm47LK8j1cfWzbi9MuXpsFlHYiwgivsnmkWMC+bHB9ZGOcTMfMkUlXsU2JUc0Y8FqZwcXvg/Q/0yfew2FNhs9Su48U015eIvekY+KqdKfHGEdbd+yidTOW6V+OMI6279lE6kc2fbqx6AAUWAAAAAAAAAAAAAAAACDqazqfn+CJOIVF5yqdY12RiiYioNSxfE0YKmHTay2ekujzInaumr0dGUpuWUIuW9xhFSl0vey/t7WNKnqx5O0k5HlXcxtOnM9EF9sYp+Wx9nMmaXyVOvTqyeUdRpt7lk8/eRNDtuMYp+Wx9nMqu6RiLrXMbWPgUFnLnnLJ5dCWXlbOjhltjDnymOO2StpjVl3lrDJbteSzk+dLcj7oVLyrtncVNvJJpdhGwSwSS2G1WlBI7LJHnfLK+0C3oXC3V6v7zLO3vrqnvkpr/MtvaTadJEhUkY5avprj8p7fFHEY1Vqtas+R7n0MqsQ7yalySTLC5s01s2MrrxuUWpeFH0rlKf01lvtX6VPPF8Ha3Opdv/AIonUjkWMVs8QwWT4p3if+mlE66cufbux6AAUWAAAAAAAAAAAAAAAACBa76nWy9xPINqttTP/wCsvUsgis4AJQHxV3H2fFZ96+gDmuhi+2MU/LY+zmajWlwl3VqPfKrJ9rZt2hW3F8U/JY+zmapqatea/wA79Z1/j3Ti/L6jaMMjkkXtuzW7CrkXdtWOm+XJPC2pszRZCp1DMqhlY1lSJMpcSlqzT4m9V+UsJ1Shxy43dKI0n5KTEZfaOFr9mvfemjE7ScRvG3ieHZZv/wA94lzvgEduOPk+1ejx/WAAKLgAAAAAAAAAAAAAAABFpeFU6z4Ikoi0vCn1nwRCKyA9PCUPmcslmQ7mtnFpr0kqtHNFdXexkxFaRoMvtfFPyWHs5lNitnq3dWOX9pL0sttDKqhimLTl4MadjJ+SnMzV6bq1uFksnUWt6cl6Mjbirm/Im5FXTpNEujcNFr9B2biLcWHIdMycWUZqF2SlcGv1Iyg+M+HfNF+1PlpeV7vI1vE7rWnGOe+SMVziDIWGZ1rqlB7pVIrtZGXiJxu7pbXNBxxDB5PfUuL2fk4KCXqOyHM9Mqaji2DRisoxqXaS5EqUEkdMPOz7ezjNQABVYAAAAAAAAAAAAAAAAItHwqnWfBElEWl4VTrPgiEVlPD08JQGGrSWT2LsMx8VdzA5DY1MsSxWC+/LD4eRQm/cjc6ttlCnLker2r+RpFl44xD89l7OZ0eNPWpNceWa6VtNcLpz8k3f8YlS2GOpQJVDavIeyiabYXFS3VknxFJeYabdUgQLikaY5OfPBo91YtGfRC0zvqXNLW7Fn7i2xCkZNBLbWu3Pip05PyvZ7y2eX6VeLH9yRm048b4N1t57KB0k5vp0vtfButvPZQOkHDl29qAAKpAAAAAAAAAAAAAAAACJS8Kp1nwRJZEpeFU6z4IBFZQeAlD0+Ku5n0fNTcwOQ2EPtTE5fs1MP7HTqHR8PlnFdBoeC0tfEMaXGoWMv3YzfqzN0wapnBdBpOmOf2ZlHUk48W9dDMkjPcUddbNklu/6IHC5PKWxrlLzyyymntQhXBIqVUV93cJF8WGapxSWSZc9z6klGpJ+HJxf+jbl+ugpqFnK6qZLNUovvpcXQucusGmqV4oLZGpBwXkWa9QzvjS3BjrL5K7Tzxvg3W3nsoHRznGnnjfButvPZQOjnLXowABCQAAAAAAAAAAAAAAAAiUvCqdZ8ECWRKfhVOs+CIRWQAEoD4q7j7PiruA55oPBSxjF4vdKFlF9Dp1EXGCScHKnLfCTj2MqdA/HOLdFj/BMvMZpcDcqovArb+aa2P0ZGmLLknVXdNivbRqLvl5Vsa8pgtqmaJcWEdqqtgmfg1ZLpin70YoaN0886k5z5vBj6NpeZnjJ+dV/54/wi8DGEdWEVGK3JLJGtYg9S5ozXFVj2Zm01TVsVjrXFGK3utD+JCIy9I+nvjfBuuvPZQOjHOdPPHGDdbeeygdGMq6oAAhIAAAAAAAAAAAAAAAAQ6b76pzVF/BB+8mEG4fB1HN/1c0lJ8UJrYpPma2Z8WquUIrODzM9JQHxU3H0eS3Ac+0G2Y1iqe9wsmudKE032m74pZKvScHse+L5JLc/1ynO9JY18LxKOK0aU69CdJ29zTp7ajpZ6ynBbnKL29GzZta2nD+6BhdeCnHELWKa3VqsaE1zONTJlpUWbeYVcNNwnsnB6rT4mi8hI1nF8ew2o+FpYlh6rJf3y3SqLkffb+cwWWm9i1lK9s0+e5o/MW7Y6uN03BMNmvLTLD/xCx/3VD5jyWmeH/iFj/uqHzELLm5nkikwejw146n3KCfQ5y2L0ZsrL7TGzqNU6d9ZJy2a0rmhGEVytuRYUtMMJsqGX9I2sks5S4KrGvUnJ73q082TvURMbar9On9s4NHj4W8f/HBe86Ocy0Up1sWxP+lqtGdGytqbo2kKq1ak83nKrJcTfqyXO+mmdbwABCQAAAAAAAAAAAAAAAAAARXh9PiUo80J1Ka7ItIfQIctXz1b5iUAIv0CHLV89W+YfQYctXz1b5iUAINXCaU1lJVGuetW+Yqq+gmG1HrVLKjUly1VKpLtk2zYwDTV/q8wr8OtfNofV5hX4da+bRtAA1f6vMK/DrXzaH1eYV+HWvm0bQANX+rzCvw6182iRZaE4bRlr0rG2hNcaprM2AAeRikskkktiS2JHoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAf/2Q==");
        productRepository.save(product);
        return true;
    }
}
